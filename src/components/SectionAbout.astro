---
import { Picture } from "astro:assets";

import BaseSection from "./BaseSection.astro";
import CardFeature from "./CardFeature.astro";
import BaseCard from "./BaseCard.astro";

import { getLangFromUrl, useTranslations } from "../i18n/utils";

import pictureMan from "../assets/picture-man-min.jpg";

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);
---

<BaseSection title="" titleAlignment="" id="about">
  <div class="md:flex md:flex-row justify-center">
    <div class="my-auto basis-2/3 max-w-xl">
      <h2 class="mb-5 text-3xl text-5xl self-start text-left">
        {t("about")}
      </h2>
      <p>
        {t("aboutText1")}
      </p>
      <p class="mt-4">
        {t("aboutText2")}
      </p>
      <p class="mt-4">
        {t("aboutText3")}
      </p>
    </div>
    <div
      class="h-full flex basis-1/3 justify-center md:ml-20 portfolio-img-wrapper shrink"
    >
      <span class="portfolio-img">
        <Picture
          src={pictureMan}
          alt="Owner of this portfolio"
          class="w-auto h-full rounded-lg mt-10 lg:mt-0"
          pictureAttributes={{ class: "w-80" }}
        />
      </span>
    </div>
  </div>
  <div class="grid md:grid-cols-2 lg:grid-cols-4 mt-16">
    <BaseCard transparent class="w-full md:mr-1 py-4">
      <CardFeature
        title={t("intuitive")}
        icon="mdiLightbulb"
        alt="Intuitive icon"
      >
        <p class="md:text-center md:mx-3">
          {t("intuitiveText")}
        </p>
      </CardFeature>
    </BaseCard>
    <BaseCard transparent class="w-full md:mx-1 py-4">
      <CardFeature title={t("fast")} icon="mdiRocketLaunch" alt="Fast icon">
        <p class="md:text-center md:mx-3">
          {t("fastText")}
        </p>
      </CardFeature>
    </BaseCard>
    <BaseCard transparent class="w-full md:mr-1 py-4">
      <CardFeature
        title={t("responsive")}
        icon="mdiResponsive"
        alt="Responsive icon"
      >
        <p class="md:text-center md:mx-3">
          {t("responsiveText")}
        </p>
      </CardFeature>
    </BaseCard>
    <BaseCard transparent class="w-full md:mx-1 py-4">
      <CardFeature
        title={t("reactive")}
        icon="mdiAlphaRCircle"
        alt="Reactive icon"
      >
        <p class="md:text-center md:mx-3">
          {t("reactiveText")}
        </p>
      </CardFeature>
    </BaseCard>
  </div>
</BaseSection>

<style>
  .portfolio-img-wrapper {
    perspective: 1000px;
  }

  .portfolio-img {
    transform-style: preserve-3d;
    transform: rotate3d(1, 1, 0, -10deg);
  }
</style>
